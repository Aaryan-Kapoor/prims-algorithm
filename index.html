<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prim's Algorithm Mini Lecture Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-slate-100 text-slate-900 font-sans">
    <header class="bg-gradient-to-r from-emerald-500 via-cyan-500 to-indigo-500 text-white shadow-lg">
        <div class="max-w-6xl mx-auto px-6 py-10 flex flex-col gap-6 lg:flex-row lg:items-center lg:justify-between">
            <div>
                <p class="uppercase tracking-[0.3em] text-xs font-semibold">Discrete Math Micro Lecture</p>
                <h1 class="text-4xl lg:text-5xl font-bold mt-2">Prim's Algorithm in 8–10 Minutes</h1>
                <p class="text-lg mt-4 max-w-2xl text-white/90">
                    A classroom-ready walkthrough that revisits Minimum Spanning Trees, dissects Prim's greedy strategy,
                    walks through code, and lets students tinker with a live visualizer.
                </p>
            </div>
            <div class="bg-white/20 rounded-2xl p-6 border border-white/30 shadow-xl max-w-sm">
                <h2 class="text-xl font-semibold">Session Snapshot</h2>
                <ul class="mt-4 space-y-2 text-sm">
                    <li class="flex justify-between"><span>Audience:</span><span>Entry-level Discrete Math</span></li>
                    <li class="flex justify-between"><span>Prereq:</span><span>Knows Dijkstra's Algorithm</span></li>
                    <li class="flex justify-between"><span>Goal:</span><span>Internalize MST intuition</span></li>
                    <li class="flex justify-between"><span>Format:</span><span>Lecture + Demo</span></li>
                </ul>
            </div>
        </div>
    </header>

    <main class="max-w-6xl mx-auto px-6 py-12 space-y-16">
        <section id="agenda" class="panel">
            <div class="panel-header">
                <p class="eyebrow">Start strong</p>
                <h2 class="section-title">Minute-by-minute Agenda (Total ≈ 9 Minutes)</h2>
                <p>
                    Use the agenda as narration cues. Each block includes speaking prompts so another instructor can deliver
                    the same experience.
                </p>
            </div>
            <div class="grid gap-6 md:grid-cols-2">
                <div class="agenda-card">
                    <h3>0:00 – 2:00 &middot; "Why MSTs?"</h3>
                    <p>Connect to Dijkstra's algorithm and stress the goal: connect everything cheaply without cycles.</p>
                    <ul>
                        <li>Contrast "shortest path" vs. "connect all nodes" problems.</li>
                        <li>Real stories: fiber networks, campus Wi-Fi, shipping routes.</li>
                    </ul>
                </div>
                <div class="agenda-card">
                    <h3>2:00 – 3:30 &middot; Prim's Big Idea</h3>
                    <p>State the greedy rule: grow a tree by always picking the cheapest edge that expands it.</p>
                    <ul>
                        <li>Highlight similarities to Dijkstra's frontier set.</li>
                        <li>Call out "never make a cycle" as the invariant.</li>
                    </ul>
                </div>
                <div class="agenda-card">
                    <h3>3:30 – 5:30 &middot; Step-by-step Mechanics</h3>
                    <p>Show the pseudocode, annotate each line with the purpose, and mention complexity.</p>
                    <ul>
                        <li>Initialize tree, pick start node, loop until all nodes are in.</li>
                        <li>Data structures: adjacency list + min priority queue gives <em>O(E log V)</em>.</li>
                    </ul>
                </div>
                <div class="agenda-card">
                    <h3>5:30 – 7:30 &middot; Sample Graph Walkthrough</h3>
                    <p>Use the provided scenario (below) to narrate edge picks and maintain a running total.</p>
                    <ul>
                        <li>Keep a running table of frontier edges.</li>
                        <li>Relate each pick back to the greedy rule.</li>
                    </ul>
                </div>
                <div class="agenda-card">
                    <h3>7:30 – 8:30 &middot; Code Breakdown</h3>
                    <p>Map the conceptual steps to the included visualizer code: nodes, edges, state machine.</p>
                    <ul>
                        <li>Explain what triggers draws and MST updates.</li>
                        <li>Use snippet callouts to tie UI controls to algorithm actions.</li>
                    </ul>
                </div>
                <div class="agenda-card">
                    <h3>8:30 – 9:00 &middot; Interactive Play</h3>
                    <p>Let students load the sample graph, then invite them to build their own networks.</p>
                    <ul>
                        <li>Challenge: create a disconnected graph and observe the warning.</li>
                        <li>Encourage tinkering with the animation speed.</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="concept" class="panel">
            <div class="panel-header">
                <p class="eyebrow">Conceptual foundation</p>
                <h2 class="section-title">Why Prim's Algorithm Works</h2>
            </div>
            <div class="grid gap-8 md:grid-cols-2">
                <article class="concept-card">
                    <h3>Greedy Choice Property</h3>
                    <p>
                        At every iteration we pick the cheapest edge that touches the current tree yet reaches outside nodes.
                        Because any lighter connection would have already been available earlier, this choice can never
                        increase the final cost.
                    </p>
                    <p class="mt-3 text-sm text-slate-500">Analogy: building a snowball—always add the closest patch of snow you can reach.</p>
                </article>
                <article class="concept-card">
                    <h3>Cycle-Free Growth</h3>
                    <p>
                        By only adding edges that connect <em>exactly one</em> new vertex, Prim's maintains a tree structure.
                        If both endpoints were already in the tree we'd create a cycle and waste cost without connecting
                        anything new.
                    </p>
                    <p class="mt-3 text-sm text-slate-500">Invariant to emphasize: "Tree size equals number of nodes currently in MST."</p>
                </article>
                <article class="concept-card">
                    <h3>Relationship to Dijkstra</h3>
                    <p>
                        Both algorithms keep a frontier of candidate edges keyed by weight. Dijkstra's key is the distance to
                        reach each vertex from the source, whereas Prim's key is the edge weight to attach the vertex to the tree.
                    </p>
                </article>
                <article class="concept-card">
                    <h3>Runtime</h3>
                    <p>
                        Using a binary heap priority queue for frontier edges gives <span class="font-semibold">O(E log V)</span>.
                        On dense graphs, a simple adjacency matrix with a linear scan per step may suffice (<span class="italic">O(V^2)</span>),
                        which aligns with how textbook Prim's is often presented before priority queues are introduced.
                    </p>
                </article>
            </div>
        </section>

        <section id="steps" class="panel">
            <div class="panel-header">
                <p class="eyebrow">Step-by-step</p>
                <h2 class="section-title">Narrated Pseudocode</h2>
                <p>
                    Use the following script to guide learners through the control flow. The right column offers narration cues and
                    links the logic to what the visualizer animates.
                </p>
            </div>
            <div class="grid gap-6 lg:grid-cols-2">
                <div class="bg-slate-900 text-green-100 rounded-2xl p-6 text-sm font-mono space-y-2 overflow-auto">
                    <pre><code>1. pick any start node s
2. tree = {s}
3. frontier = all edges that leave tree
4. while tree is missing vertices:
5. &nbsp;&nbsp;choose edge (u, v, w) with min weight in frontier
6. &nbsp;&nbsp;add v to tree and record edge (u, v)
7. &nbsp;&nbsp;add new outgoing edges of v to frontier
8. &nbsp;&nbsp;remove frontier edges that now form cycles
9. return collected edges as MST</code></pre>
                </div>
                <div class="space-y-4">
                    <div class="step-note">
                        <h3>Initialization</h3>
                        <p>Pick any node—Prim's result is independent of the start node for connected graphs. Set up a min-heap keyed by edge weight.</p>
                    </div>
                    <div class="step-note">
                        <h3>Loop Condition</h3>
                        <p>Keep looping until <code>|tree| = |V|</code>. Saying this aloud reminds students that MSTs always have <code>V-1</code> edges.</p>
                    </div>
                    <div class="step-note">
                        <h3>Greedy Selection</h3>
                        <p>Highlight that the chosen edge always straddles the cut between "inside" and "outside" nodes. This is the cut property in action.</p>
                    </div>
                    <div class="step-note">
                        <h3>Update Frontier</h3>
                        <p>In code we push new candidate edges and lazily skip outdated ones when popped. The provided visualizer explicitly filters edges each step.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="sample" class="panel">
            <div class="panel-header">
                <p class="eyebrow">Walkthrough</p>
                <h2 class="section-title">Sample Graph Storyboard (Use 2 minutes)</h2>
                <p>Reference this table while you narrate the sample graph used by the interactive visualizer.</p>
            </div>
            <div class="overflow-auto">
                <table class="w-full text-left text-sm border border-slate-200">
                    <thead class="bg-slate-50">
                        <tr>
                            <th class="px-4 py-2">Step</th>
                            <th class="px-4 py-2">Tree Nodes</th>
                            <th class="px-4 py-2">Cheapest Frontier Edge</th>
                            <th class="px-4 py-2">Why it wins</th>
                            <th class="px-4 py-2">Running Weight</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="px-4 py-2">0</td>
                            <td class="px-4 py-2">{A}</td>
                            <td class="px-4 py-2">A–D (2)</td>
                            <td class="px-4 py-2">Only edges out of A are A–B (4) and A–D (2). Pick weight 2.</td>
                            <td class="px-4 py-2">2</td>
                        </tr>
                        <tr class="bg-slate-50/60">
                            <td class="px-4 py-2">1</td>
                            <td class="px-4 py-2">{A, D}</td>
                            <td class="px-4 py-2">D–E (1)</td>
                            <td class="px-4 py-2">Cheapest cut edge overall; shows Prim's affinity for small local connections.</td>
                            <td class="px-4 py-2">3</td>
                        </tr>
                        <tr>
                            <td class="px-4 py-2">2</td>
                            <td class="px-4 py-2">{A, D, E}</td>
                            <td class="px-4 py-2">E–H (2)</td>
                            <td class="px-4 py-2">Now H is the best new vertex; note how 2 beats alternatives like E–F (7).</td>
                            <td class="px-4 py-2">5</td>
                        </tr>
                        <tr class="bg-slate-50/60">
                            <td class="px-4 py-2">3</td>
                            <td class="px-4 py-2">{A, D, E, H}</td>
                            <td class="px-4 py-2">H–F (4)</td>
                            <td class="px-4 py-2">This is now the lightest edge crossing the cut. The frontier view makes it obvious.</td>
                            <td class="px-4 py-2">9</td>
                        </tr>
                        <tr>
                            <td class="px-4 py-2">4</td>
                            <td class="px-4 py-2">{A, D, E, H, F}</td>
                            <td class="px-4 py-2">E–B (5)</td>
                            <td class="px-4 py-2">Even though a node is far spatially, the algorithm only cares about weight.</td>
                            <td class="px-4 py-2">14</td>
                        </tr>
                        <tr class="bg-slate-50/60">
                            <td class="px-4 py-2">5</td>
                            <td class="px-4 py-2">{A, B, D, E, F, H}</td>
                            <td class="px-4 py-2">B–C (6)</td>
                            <td class="px-4 py-2">Only candidate left for C that avoids cycles.</td>
                            <td class="px-4 py-2">20</td>
                        </tr>
                        <tr>
                            <td class="px-4 py-2">6</td>
                            <td class="px-4 py-2">{A, B, C, D, E, F, H}</td>
                            <td class="px-4 py-2">H–G (3)</td>
                            <td class="px-4 py-2">Attach final vertex. Emphasize MST ends with |V|-1 edges.</td>
                            <td class="px-4 py-2">23</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <section id="code" class="panel">
            <div class="panel-header">
                <p class="eyebrow">Under the hood</p>
                <h2 class="section-title">Code Breakdown of the Visualizer</h2>
                <p>Use these callouts to connect UI events to algorithm state transitions.</p>
            </div>
            <div class="grid gap-6 lg:grid-cols-3">
                <article class="code-card">
                    <h3>Data Model</h3>
                    <pre><code class="language-js">class Node {
  constructor(x, y, id) {
    this.label = String.fromCharCode(65 + id);
  }
}
class Edge {
  constructor(node1, node2, weight) {
    this.weight = weight;
  }
}</code></pre>
                    <p class="mt-3 text-sm">Nodes know their positions and labels; edges connect two nodes and store weights used when sorting candidates.</p>
                </article>
                <article class="code-card">
                    <h3>State Machine</h3>
                    <pre><code class="language-js">function stepPrims() {
  if (algorithmStep === 0) selectStart();
  else if (algorithmStep === 1) addStartToMST();
  else if (algorithmStep === 2) checkCompletion();
  else if (algorithmStep === 3) collectFrontier();
  else if (algorithmStep === 4) chooseEdge();
  else if (algorithmStep === 5) addNode();
  else if (algorithmStep === 6) addEdge();
  else if (algorithmStep === 7) loopBack();
}</code></pre>
                    <p class="mt-3 text-sm">Each branch mirrors a pseudocode line and highlights the matching pseudocode on the right-hand column.</p>
                </article>
                <article class="code-card">
                    <h3>UI Hooks</h3>
                    <pre><code class="language-js">document.getElementById('autoBtn')
  .addEventListener('click', () => {
    autoRunInterval = setInterval(stepPrims, speed);
  });
canvas.addEventListener('click', handleCanvasClick);
function draw() {
  edges.forEach(edge => edge.draw(ctx));
  nodes.forEach(node => node.draw(ctx));
}</code></pre>
                    <p class="mt-3 text-sm">Buttons transition the mode (add node, add edge, delete). The canvas re-renders after every state mutation.</p>
                </article>
            </div>
        </section>

        <section id="interactive" class="panel">
            <div class="panel-header">
                <p class="eyebrow">Hands-on lab</p>
                <h2 class="section-title">Interactive Prim's Algorithm Visualizer</h2>
                <p>Use the controls to recreate the sample walkthrough, then invite students to build their own graphs.</p>
            </div>
            <!-- Embedded interactive tool provided in the prompt -->
            <div class="max-w-7xl mx-auto">
                <div class="text-center mb-6 text-sm text-slate-600">
                    <p>Tip: Click "Load Sample Graph" to align with the storyboard table. Then press "Start Prim's" and narrate each step.</p>
                </div>
                <div class="interactive-wrapper">
                    <div class="max-w-7xl mx-auto">
                        <div class="grid grid-cols-1 lg:grid-cols-3 gap-4">
                            <!-- Content transplanted from provided interactive code -->
                            <div class="lg:col-span-3">
                                <div class="bg-white shadow-lg border border-slate-200 rounded-2xl overflow-hidden">
                                    <div class="bg-slate-900 text-white px-6 py-4">
                                        <h3 class="text-2xl font-bold">Prim's Algorithm Interactive Visualizer</h3>
                                        <p class="text-sm text-slate-200">Learn how Prim's algorithm finds the Minimum Spanning Tree</p>
                                    </div>
                                    <div class="p-4">
                                        <div class="grid grid-cols-1 lg:grid-cols-3 gap-4">
                                            <div class="lg:col-span-2 space-y-4">
                                                <div class="panel p-4 mb-0">
                                                    <h2 class="text-2xl font-bold mb-3">Graph Canvas</h2>
                                                    <canvas id="canvas" width="700" height="500" class="bg-white w-full"></canvas>
                                                    <div class="mt-4 flex flex-wrap gap-2">
                                                        <button id="addNodeBtn" class="btn bg-black text-white px-4 py-2 font-bold">Add Node</button>
                                                        <button id="addEdgeBtn" class="btn bg-black text-white px-4 py-2 font-bold">Add Edge</button>
                                                        <button id="deleteBtn" class="btn bg-gray-700 text-white px-4 py-2 font-bold">Delete Mode</button>
                                                        <button id="loadSampleBtn" class="btn bg-blue-600 text-white px-4 py-2 font-bold">Load Sample Graph</button>
                                                        <button id="clearBtn" class="btn bg-red-600 text-white px-4 py-2 font-bold">Clear All</button>
                                                    </div>
                                                    <div class="mt-4 p-3 bg-gray-100 border-2 border-gray-300">
                                                        <p id="statusText" class="font-bold">Click "Add Node" to start building your graph</p>
                                                    </div>
                                                </div>
                                                <div class="panel p-4">
                                                    <h2 class="text-2xl font-bold mb-3">Algorithm Controls</h2>
                                                    <div class="flex flex-wrap gap-2 mb-4">
                                                        <button id="startBtn" class="btn bg-green-600 text-white px-6 py-3 font-bold text-lg">Start Prim's</button>
                                                        <button id="stepBtn" class="btn bg-blue-600 text-white px-6 py-3 font-bold text-lg" disabled>Next Step</button>
                                                        <button id="autoBtn" class="btn bg-purple-600 text-white px-6 py-3 font-bold text-lg" disabled>Auto Run</button>
                                                        <button id="resetBtn" class="btn bg-gray-600 text-white px-6 py-3 font-bold text-lg">Reset</button>
                                                    </div>
                                                    <div class="mb-3">
                                                        <label class="font-bold">Animation Speed:</label>
                                                        <input type="range" id="speedSlider" min="100" max="2000" value="1000" class="w-full">
                                                        <span id="speedLabel" class="text-sm">1000ms</span>
                                                    </div>
                                                    <div class="p-3 bg-yellow-100 border-2 border-yellow-400">
                                                        <h3 class="font-bold mb-2">Current Step:</h3>
                                                        <p id="stepExplanation" class="text-sm">Click "Start Prim's" to begin visualization</p>
                                                    </div>
                                                    <div class="mt-3 p-3 bg-green-100 border-2 border-green-400">
                                                        <h3 class="font-bold mb-2">MST Statistics:</h3>
                                                        <p id="mstStats" class="text-sm">Total Weight: 0 | Edges: 0</p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="space-y-4">
                                                <div class="panel p-4 mb-0">
                                                    <h2 class="text-2xl font-bold mb-3">Pseudocode</h2>
                                                    <div class="bg-gray-50 p-3 text-xs overflow-auto max-h-96 border border-gray-300">
                                                        <div class="code-line" data-step="0">1. Initialize MST as empty</div>
                                                        <div class="code-line" data-step="1">2. Select starting node</div>
                                                        <div class="code-line" data-step="2">3. Add starting node to MST</div>
                                                        <div class="code-line" data-step="3">4. WHILE MST has fewer than N nodes:</div>
                                                        <div class="code-line" data-step="4">&nbsp;&nbsp;&nbsp;5. Find minimum edge (u,v,w)</div>
                                                        <div class="code-line" data-step="5">&nbsp;&nbsp;&nbsp;6. WHERE u is in MST</div>
                                                        <div class="code-line" data-step="6">&nbsp;&nbsp;&nbsp;7. AND v is NOT in MST</div>
                                                        <div class="code-line" data-step="7">&nbsp;&nbsp;&nbsp;8. Add v to MST</div>
                                                        <div class="code-line" data-step="8">&nbsp;&nbsp;&nbsp;9. Add edge (u,v) to MST</div>
                                                        <div class="code-line" data-step="9">&nbsp;&nbsp;&nbsp;10. Update total weight</div>
                                                        <div class="code-line" data-step="10">11. END WHILE</div>
                                                        <div class="code-line" data-step="11">12. MST is complete!</div>
                                                    </div>
                                                </div>
                                                <div class="panel p-4 mb-0">
                                                    <h2 class="text-xl font-bold mb-2">Legend</h2>
                                                    <div class="space-y-2 text-sm">
                                                        <div class="flex items-center gap-2">
                                                            <div class="w-6 h-6 rounded-full bg-white border-4 border-black"></div>
                                                            <span>Regular Node</span>
                                                        </div>
                                                        <div class="flex items-center gap-2">
                                                            <div class="w-6 h-6 rounded-full bg-green-400 border-4 border-black"></div>
                                                            <span>Node in MST</span>
                                                        </div>
                                                        <div class="flex items-center gap-2">
                                                            <div class="w-6 h-6 rounded-full bg-yellow-300 border-4 border-black"></div>
                                                            <span>Current Node</span>
                                                        </div>
                                                        <div class="flex items-center gap-2">
                                                            <div class="w-16 h-1 bg-black"></div>
                                                            <span>Regular Edge</span>
                                                        </div>
                                                        <div class="flex items-center gap-2">
                                                            <div class="w-16 h-1 bg-green-600" style="height: 4px;"></div>
                                                            <span>Edge in MST</span>
                                                        </div>
                                                        <div class="flex items-center gap-2">
                                                            <div class="w-16 h-1 bg-blue-600" style="height: 3px;"></div>
                                                            <span>Candidate Edge</span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="panel p-4">
                                                    <h2 class="text-xl font-bold mb-2">How to Use</h2>
                                                    <ol class="text-sm space-y-1 list-decimal list-inside">
                                                        <li>Click "Load Sample Graph" or build your own</li>
                                                        <li>Add nodes by clicking "Add Node" then clicking canvas</li>
                                                        <li>Add edges by clicking "Add Edge", select 2 nodes, enter weight</li>
                                                        <li>Click "Start Prim's" to initialize</li>
                                                        <li>Use "Next Step" or "Auto Run" to visualize</li>
                                                        <li>Watch the code highlight current operation</li>
                                                    </ol>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="wrap-up" class="panel">
            <div class="panel-header">
                <p class="eyebrow">Close the loop</p>
                <h2 class="section-title">Key Takeaways & Reflection Prompts</h2>
            </div>
            <div class="grid gap-6 md:grid-cols-3">
                <div class="wrap-card">
                    <h3>Key Ideas</h3>
                    <ul class="list-disc list-inside text-sm space-y-1">
                        <li>Prim's is a greedy MST builder—always expand via the cheapest outgoing edge.</li>
                        <li>The tree contains exactly one connected component throughout.</li>
                        <li>Runtime depends on the frontier data structure.</li>
                    </ul>
                </div>
                <div class="wrap-card">
                    <h3>Reflection Questions</h3>
                    <ul class="list-disc list-inside text-sm space-y-1">
                        <li>How does Prim's behavior change if multiple edges share the same weight?</li>
                        <li>Where might Kruskal's algorithm be easier to apply?</li>
                        <li>What happens if the graph is disconnected? (Visualizer will warn you!)</li>
                    </ul>
                </div>
                <div class="wrap-card">
                    <h3>Next Steps</h3>
                    <ul class="list-disc list-inside text-sm space-y-1">
                        <li>Assign a practice problem that compares Prim's and Kruskal's choices.</li>
                        <li>Challenge: implement a min-priority-queue version in your preferred language.</li>
                        <li>Stretch: ask students to prove the cut property formally.</li>
                    </ul>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-slate-900 text-white py-8 mt-12">
        <div class="max-w-6xl mx-auto px-6 text-sm flex flex-col gap-3 md:flex-row md:items-center md:justify-between">
            <p>&copy; 2024 Prim's Algorithm Lecture Hub.</p>
            <p>Host by serving <code>index.html</code> locally (e.g., <code>python -m http.server</code>).</p>
        </div>
    </footer>

    <script src="scripts.js"></script>
</body>
</html>
